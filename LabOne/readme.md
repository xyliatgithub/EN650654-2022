# Lab 1 - Network Traffic & DoS Attack

In this lab, we will perform an experimental Denial-of-Service attack and collect network packets.

## Setup

Go to http://www.cis.syr.edu/~wedu/seed/lab_env.html to install the pre-built VM image (Ubuntu 16.04 32 bits).

- VM setup instruction (in Virtualbox): http://www.cis.syr.edu/~wedu/seed/Labs_16.04/Documents/SEEDVM_VirtualBoxManual.pdf
- User manual (contains the usernames and passowrds): http://www.cis.syr.edu/~wedu/seed/Documentation/Ubuntu16_04_VM/Ubuntu16_04_VM_Manual.pdf

In this lab, you need to have three VMs under the same local network. Note that these three VMs should be in the promiscuous mode in order to listen to traffics from other VMs. Once you have configured a VM, you can simply clone that VM for two more times to complete the VM setup. Please refer to Appendix A and B of the VM setup instruction.

## Lab Instructions 

1. Please follow the instructions on [this page](https://seedsecuritylabs.org/Labs_16.04/PDF/TCP_Attacks.pdf) to complete the task 1: SYN Flooding Attack of the lab. In case the hyperlink does not work, here's the full URL: [https://seedsecuritylabs.org/Labs_16.04/PDF/TCP_Attacks.pdf]. 
2. You need to fulfill some required additional tasks after you finished the task 1 in the seed lab. See the below section for instructions.

## Additional Tasks
1. Install iperf on the "Attacker" machine and the "Client" machine using: sudo apt-get install iperf 
2. We will now collect normal traffic and DoS traffic data and compare them. First, go to the terminal that corresponds to the "Server" machine and press both the Ctrl key and C key together. Now in the "Server" machine terminal, Type: sudo tcpdump -i eth1 -s0 -w capture1.pcap (change the eth1 to the eth you are in. After running ifconfig, I am looking for 10.0.2.17 and I see that it is located beside "eth2". The "eth" you see on your screen that corresponds to your specific number is what you will type) and hit enter on your keyboard. This command takes the tcpdump monitored traffic and writes it in a file called capture1.pcap.
3. Go to the terminal that corresponds to the "client" machine and press both the Ctrl key and C key together. Now in the "client" machine terminal, Type: iperf -s and hit enter on your keyboard. When you use iperf -s you are running an iperf server. Next you will run and iperf client on the “Attacker” machine and generate some regular traffic
4. Go to the terminal that corresponds to the "Attacker" machine. Type: iperf -c Client_IP and hit enter on your keyboard.
5. Open another terminal on the "Attacker" machine. Conduct the same SYN flood attack you did the task 1 of the SEED lab. After 10 seconds, press both the Ctrl key and C key together on all your terminal windows.
6. Use Wireshark to view the statistics of your capture file. Write all the traffic statistics in your report.
7. Describe the I/O graph that is generated by your capture file. This is the graph of the traffic you ran in the previous tasks. Do you see at which time you started the flooding attack? Why is it very distinctive? Copy the graph to your report.
8. Did the attack end at some point? What do you think happened at this point?
9. Repeat the experiments from additional task 2 to additional task 6 at least four more times. You will need to change the name of the capture everytime (capture1.pcap, capture2.pcap, capture3.pcap, capture4.pcap, capture5.pcap).
10. Take the statistics of packet size and bandwidth from Wireshark from each pcap file and put these in an Excel spreadsheet. Calculate the average and standard deviation of this data and plot the data. Describe your observations of this data. Copy the spreadsheet, average, standard deviation and the graph you plotted to your report.
